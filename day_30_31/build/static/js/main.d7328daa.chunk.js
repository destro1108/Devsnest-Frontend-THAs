(this.webpackJsonpday_30_31=this.webpackJsonpday_30_31||[]).push([[0],{34:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var r,s=c(1),i=c.n(s),n=c(18),a=c.n(n),l=c(4),o=(c(34),c(10)),d=c(3),u=c(0),m=function(e){var t=e.visibility,c=e.closeCart;return Object(u.jsx)("div",{onClick:c,className:"w-full h-full absolute z-20 bg-black bg-opacity-50 backdrop-filter backdrop-blur-sm backdrop-opacity-80 ".concat(t?"":"hidden")})},x=c(12),b=c(11),j=Object(b.c)({name:"cart",initialState:{isDrawerVisible:!1,cartItems:JSON.parse(localStorage.getItem("cartItems"))||[],wishlist:JSON.parse(localStorage.getItem("wishlist"))||[]},reducers:{addCartItem:function(e,t){e.cartItems=[].concat(Object(x.a)(e.cartItems),[t.payload]),localStorage.setItem("cartItems",JSON.stringify(e.cartItems))},removeCartItem:function(e,t){var c=e.cartItems.filter((function(e){return e.id!==t.payload.id}));e.cartItems=Object(x.a)(c),localStorage.setItem("cartItems",JSON.stringify(e.cartItems))},addWishListItem:function(e,t){e.wishlist=[].concat(Object(x.a)(e.wishlist),[t.payload]),localStorage.setItem("wishlist",JSON.stringify(e.wishlist))},removeWishListItem:function(e,t){var c=e.wishlist.filter((function(e){return e.id!==t.payload.id}));e.wishlist=Object(x.a)(c),localStorage.setItem("wishlist",JSON.stringify(e.wishlist))},changeQuantity:function(e,t){e.cartItems[t.payload.inx].quantity+=t.payload.qty,localStorage.setItem("cartItems",JSON.stringify(e.cartItems))},toggleDrawer:function(e){e.isDrawerVisible=!e.isDrawerVisible,localStorage.setItem("cartItems",JSON.stringify(e.cartItems))}}}),f=j.actions,h=f.addCartItem,p=f.removeCartItem,w=f.addWishListItem,O=f.removeWishListItem,g=f.changeQuantity,v=f.toggleDrawer,y=j.reducer,N=function(e){var t=e.id,c=e.title,r=e.price,s=e.updateQuantity,i=e.removeItem,n=e.inx,a=e.quantity,l=e.image;return Object(u.jsxs)("div",{className:"m-2 px-2 py-2 flex flex-row items-center justify-between divide-x divide-black bg-white shadow",children:[Object(u.jsx)("div",{className:"w-1/3 px-3",children:Object(u.jsx)("img",{src:l,alt:"",className:"py-4 w-5/6"})}),Object(u.jsxs)("div",{className:"w-2/3 h-full px-3 flex flex-col",children:[Object(u.jsx)("p",{className:"w-full text-xl font-semibold",children:c}),Object(u.jsxs)("div",{className:"w-full py-2 flex flex-row items-center justify-between",children:[Object(u.jsxs)("div",{className:"w-36 flex flex-row items-center justify-evenly px-1",children:[Object(u.jsx)("button",{onClick:function(){return s(1,n)},className:"bg-gray-200 px-3 py-1 hover:bg-gray-400 border border-black",children:"+"}),Object(u.jsx)("p",{className:"px-6 py-1 bg-gray-200 border border-black",children:a}),Object(u.jsx)("button",{onClick:function(){return s(-1,n)},className:"bg-gray-200 px-3 py-1 hover:bg-gray-400 border border-black",children:"-"})]}),Object(u.jsx)("button",{onClick:function(){return i(t)},className:"transition duration-150 ease-in-out transform hover:scale-110",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 fill-current text-red-600",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),Object(u.jsxs)("p",{className:"text-xl font-semibold",children:["\u20b9",(70*r).toFixed(2)]})]})]})},k=function(e){var t=e.closeCart,c=Object(l.c)((function(e){return e.cart})),r=c.cartItems,s=c.isDrawerVisible,i=Object(l.b)(),n=function(e,t){r[t].quantity+e<1||i(g({inx:t,qty:e}))},a=function(e){i(p({id:e}))};return Object(u.jsx)("div",{className:"h-full w-full md:w-1/3 absolute right-0 transition-all ease-in-out duration-700 transform ".concat(s?"translate-x-0 opacity-100 z-30":"translate-x-full opacity-90 scale-x-0 z-0"),children:Object(u.jsxs)("div",{className:"w-full h-full bg-gray-200 divide-y divide-gray-800",children:[Object(u.jsxs)("div",{className:"w-full px-3 py-3 flex flex-row items-center justify-between bg-white",children:[Object(u.jsx)("p",{className:"text-xl",children:"Your Items"}),Object(u.jsx)("button",{onClick:t,className:"transition duration-500 ease-in-out transform hover:scale-110",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 stroke-current text-black hover:text-black  hover:stroke-current hover:stroke",fill:"none",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{className:"stroke-1 hover:stroke-3",strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),Object(u.jsx)("div",{className:"py-2 grid grid-cols-1 gap-2",children:r.map((function(e,t){var c=e.id,r=e.image,s=e.title,i=e.price,l=e.quantity;return Object(u.jsx)(N,{inx:t,id:c,image:r,title:s,price:i,quantity:l,updateQuantity:n,removeItem:a},c)}))})]})})},I=function(e){var t=e.openCart;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"h-12 md:h-14"}),Object(u.jsxs)("nav",{className:"h-12 md:h-14 w-screen z-10 fixed bg-white shadow-md px-4 md:px-8 flex flex-row items-center justify-between",children:[Object(u.jsx)(o.b,{to:"/",children:Object(u.jsx)("p",{className:"text-3xl md:text-4xl",children:"OnlyStore"})}),Object(u.jsxs)("div",{className:"w-20 md:w-24 h-5 px-2 py-4 flex flex-row items-center justify-between",children:[Object(u.jsx)(o.b,{to:"/wishlist",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 fill-current text-red-600 stroke-current stroke-2",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),Object(u.jsx)("button",{onClick:t,children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]})]})]})},L=c(25),C=c(26),S=c(17),z=c(9),P=c.n(z),W=c(14),B=function(){var e=Object(W.a)(P.a.mark((function e(){var t,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:20,e.next=3,fetch("https://fakestoreapi.com/products?limit=".concat(t)).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(W.a)(P.a.mark((function e(){var t,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=c.length>0&&void 0!==c[0]?c[0]:localStorage.getItem("currentProductId"))){e.next=7;break}return e.next=4,fetch("https://fakestoreapi.com/products/".concat(t)).then((function(e){return e.json()}));case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=null;case 8:return e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=Object(b.b)("fetch/products",function(){var e=Object(W.a)(P.a.mark((function e(t,c){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),V=Object(b.b)("fetch/product",function(){var e=Object(W.a)(P.a.mark((function e(t,c){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:return r=e.sent,localStorage.setItem("currentProductId",t),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}()),J=Object(b.c)({name:"product",initialState:{isLoading:!0,currentProduct:null,productItems:[]},reducers:{setCurrentProduct:function(e,t){e.currentProduct=t.payload},loadProducts:function(e,t){},toggleLoading:function(e){e.isLoading=!e.isLoading}},extraReducers:(r={},Object(S.a)(r,D.fulfilled,(function(e,t){e.productItems=t.payload,e.isLoading=!1})),Object(S.a)(r,V.fulfilled,(function(e,t){e.currentProduct=t.payload,e.isLoading=!1})),r)}),q=J.actions,F=q.toggleLoading,H=(q.loadProducts,q.setCurrentProduct,J.reducer),R=function(){var e=Object(l.c)((function(e){return e})),t=e.product,c=e.cart,r=t.currentProduct,i=t.isLoading,n=c.cartItems,a=Object(d.g)(),o=Object(l.b)(),m=Object(s.useState)(1),x=Object(C.a)(m,2),b=x[0],j=x[1];if(Object(s.useEffect)((function(){o(V(parseInt(a.id)))}),[o,a]),i)return Object(u.jsx)("div",{});if(!i&&!r)return Object(u.jsx)(d.a,{to:"/"});var f=r.id,p=r.title,w=r.description,O=r.price,y=r.image,N=function(e){b+e<1||j(b+e)};return Object(u.jsxs)("div",{className:"w-11/12 md:w-9/12 h-full mt-8 sm:mt-12 mb-3 shadow-md md:my-6 grid grid-cols-1 md:grid-cols-2 bg-white",children:[Object(u.jsx)("div",{className:" h-full flex flex-col items-center justify",children:Object(u.jsx)("div",{className:"w-1/2 my-4 md:mt-10 flex flex-col items-center justify-center",children:Object(u.jsx)("img",{src:y,alt:"Loading",className:"pt-4 w-full shadow-md"})})}),Object(u.jsxs)("div",{className:"px-4 md:px-8 pt-2 md:mt-16",children:[Object(u.jsx)("p",{className:"w-full text-xl md:text-2xl font-semibold truncate",children:p}),Object(u.jsx)("p",{className:"w-full py-2 text-xs md:text-sm text-base",children:w}),Object(u.jsxs)("p",{className:"w-full text-2xl py-2 md:py-4 md:text-4xl font-semibold",children:["Price : \u20b9",(70*O).toFixed(2)]}),Object(u.jsxs)("div",{className:"w-28 md:w-36 flex flex-row items-center justify-evenly px-1",children:[Object(u.jsx)("button",{onClick:function(){return N(1)},className:"bg-gray-200 px-2 md:px-3 py-2 md:py-4 hover:bg-gray-400 border border-black",children:"+"}),Object(u.jsx)("p",{className:"px-4 md:px-6 py-2 md:py-4 bg-gray-200 border border-black",children:b}),Object(u.jsx)("button",{onClick:function(){return N(-1)},className:"bg-gray-200 px-2 md:px-3 py-2 md:py-4 hover:bg-gray-400 border border-black",children:"-"})]}),Object(u.jsx)("button",{onClick:function(){if(n.some((function(e){return e.id===f}))){var e=n.findIndex((function(e,t){return e.id===f}));o(g({inx:e,qty:b}))}else o(h(Object(L.a)(Object(L.a)({},r),{},{quantity:b})));o(v())},className:"bg-blue-600 text-gray-100 mx-1 px-3 my-4 py-2 text-xl hover:bg-blue-800 shadow",children:"ADD TO CART"})]})]})},A=c.p+"static/media/loader.37000a78.svg",T=function(e){var t=e.isLoading,c=e.id,r=e.title,s=e.description,i=e.image,n=e.price,a=e.isInWishlist,l=e.selectProduct,d=e.addToWishlist,m=e.removeFromWishlist;return t?Object(u.jsxs)("div",{className:"bg-white w-full h-full px-3 py-4 flex flex-col items-center justify-center animate-pulse",children:[Object(u.jsx)("div",{className:"w-1/2 h-64 flex flex-col items-center justify-center",children:Object(u.jsx)("img",{src:A,alt:"",className:"w-8 h-8 animate-spin"})}),Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("p",{className:"w-full text-base font-semibold truncate",children:"Blah Blah"}),Object(u.jsx)("p",{className:"w-full py-2 text-sm truncate font-light",children:"Blah Blah"}),Object(u.jsx)("p",{className:" text-2xl font-semibold",children:"Price : \u20b9Blah Blah"})]})]}):Object(u.jsxs)(o.b,{to:"/product/".concat(c),onClick:function(){return l(c)},className:"z-0 bg-white w-full h-full px-3 py-4 flex flex-col items-center justify-between transition duration-500 transform hover:shadow-xl",children:[Object(u.jsxs)("div",{className:"w-full h-full flex flex-row align-center justify-between",children:[Object(u.jsx)("div",{className:"w-1/4",children:Object(u.jsx)("button",{className:"w-8 h-8 flex flex-col items-center justify-center",onClick:function(e){e.preventDefault(),a?m(c):d({id:c,title:r,description:s,image:i,price:n})},children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 ".concat(a?"stroke-current text-red-600":"stroke-current text-black  "),fill:a?"currentColor":"none",viewBox:"0 0 24 24",children:Object(u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),Object(u.jsx)("div",{className:"w-1/2 h-full flex flex-col items-center justify-center",children:Object(u.jsx)("img",{src:i,alt:"",className:"py-4 w-full"})}),Object(u.jsx)("div",{className:"w-1/4"})]}),Object(u.jsxs)("div",{className:"w-full",children:[Object(u.jsx)("p",{className:"w-full text-base font-semibold truncate",children:r}),Object(u.jsx)("p",{className:"w-full py-2 text-sm truncate font-light",children:s}),Object(u.jsxs)("p",{className:" text-2xl font-semibold",children:["Price : \u20b9",(70*n).toFixed(2)]})]})]})},_=function(){var e=Object(l.c)((function(e){return e})),t=e.product,c=e.cart,r=t.productItems,i=t.isLoading,n=c.wishlist,a=Object(l.b)(),o=function(e){a(F())};Object(s.useEffect)((function(){a(D())}),[a]);var d=function(e){return n.some((function(t){return t.id===e.id}))},m=function(e){a(w(e)),a(F())},b=function(e){a(O({id:e})),a(F())};return Object(u.jsx)("div",{className:"w-screen h-full my-2 overflow-y-scroll px-4 py-4 grid grid-cols-1 lg:grid-cols-4 md:grid-cols-2  gap-4",children:i?Object(x.a)(Array(16)).map((function(e,t){return Object(u.jsx)(T,{isLoading:!0},t)})):r.map((function(e){var t=e.id,c=e.title,r=e.description,s=e.category,n=e.image,a=e.price;return Object(u.jsx)(T,{isLoading:i,id:t,description:r,category:s,image:n,title:c,price:a,isInWishlist:d(e),selectProduct:o,addToWishlist:m,removeFromWishlist:b},t)}))})},Q=function(e){var t=e.id,c=e.image,r=e.title,s=e.price,i=e.removeFromWishlist;return Object(u.jsxs)("div",{className:"m-2 px-2 py-2  md:w-1/3 flex flex-row items-center justify-between divide-x divide-black bg-white shadow",children:[Object(u.jsx)("div",{className:"w-1/3 px-3 flex flex-col items-center",children:Object(u.jsx)("img",{src:c,alt:"",className:"py-4 w-2/3"})}),Object(u.jsxs)("div",{className:"w-2/3 h-full px-3 flex flex-col",children:[Object(u.jsx)("p",{className:"w-full py-4 text-xl font-semibold",children:r}),Object(u.jsx)("button",{onClick:function(){return i(t)},className:"w-6 transition duration-150 ease-in-out transform hover:scale-110",children:Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 fill-current text-black",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})}),Object(u.jsxs)("p",{className:"text-xl py-2 font-semibold",children:["\u20b9",s]})]})]})},E=function(){var e=Object(l.c)((function(e){return e.cart})).wishlist,t=Object(l.b)(),c=function(e){console.log("Rmov",e),t(O({id:e}))};return Object(u.jsx)("div",{className:"w-full overflow-y-scroll scrollbar-hide mt-10 py-6 flex flex-col items-center",children:e.map((function(e,t){var r=e.id,s=e.image,i=e.title,n=e.price;return Object(u.jsx)(Q,{id:r,image:s,title:i,price:n,removeFromWishlist:c},t)}))})},Y=function(){var e=Object(l.c)((function(e){return e.cart})).isDrawerVisible,t=Object(l.b)(),c=function(){t(v())};return Object(u.jsx)("div",{className:"h-screen relative z-10 flex overflow-x-hidden flex-col items-center bg-gray-200",children:Object(u.jsxs)(o.a,{basename:"/Devsnest-Frontend-THAs/day_30/build/",children:[Object(u.jsx)(I,{openCart:c}),Object(u.jsx)(k,{visibility:e,closeCart:c}),Object(u.jsx)(m,{closeCart:c,visibility:e}),Object(u.jsxs)(d.d,{children:[Object(u.jsx)(d.b,{exact:!0,path:"/",component:_}),Object(u.jsx)(d.b,{exact:!0,path:"/product/:id",component:R}),Object(u.jsx)(d.b,{exact:!0,path:"/wishlist",component:E})]})]})})},G=Object(b.a)({reducer:{product:H,cart:y}});a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(l.a,{store:G,children:Object(u.jsx)(Y,{})})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.d7328daa.chunk.js.map